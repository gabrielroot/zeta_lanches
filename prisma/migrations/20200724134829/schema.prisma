generator client {
  provider = "prisma-client-js"
}

/// 
datasource db {
  provider = "postgresql"
  url = "***"
}

model cliente {
  createdAt      DateTime         @default(now())
  id             Int              @default(autoincrement()) @id
  nome           String
  observacao     String?
  troco          Float
  local          String
  cliente_pedido cliente_pedido[]
}

model cliente_pedido {
  cliente_fk   Int?
  createdAt    DateTime       @default(now())
  id           Int            @default(autoincrement()) @id
  item_fk      Int?
  quantidade   Int?
  subtotal     Float?
  cliente      cliente?       @relation(fields: [cliente_fk], references: [id])
  item         item?          @relation(fields: [item_fk], references: [id])
  pedido_sabor pedido_sabor[]
}

model item {
  createdAt      DateTime         @default(now())
  descricao      String?
  id             Int              @default(autoincrement()) @id
  disponivel     Boolean          @default(true)
  imagem         String
  nome           String
  preco          Float
  cliente_pedido cliente_pedido[]
  item_sabor     item_sabor[]
}

model item_sabor {
  disponivel Boolean @default(true)
  id         Int     @default(autoincrement()) @id
  item_fk    Int
  sabor_fk   Int
  item       item    @relation(fields: [item_fk], references: [id])
  sabor      sabor   @relation(fields: [sabor_fk], references: [id])
}

model pedido_sabor {
  id                          Int            @default(autoincrement()) @id
  
  cliente_pedido_fk           Int
  item_sabor_fk               Int
  quantidade                  Int

  cliente_pedido              cliente_pedido @relation(fields: [cliente_pedido_fk], references: [id])
  item_sabor                  item_sabor @relation(fields: [item_sabor_fk], references: [id])
}

model sabor {
  createdAt  DateTime     @default(now())
  id         Int          @default(autoincrement()) @id
  nome       String
  item_sabor item_sabor[]
}
